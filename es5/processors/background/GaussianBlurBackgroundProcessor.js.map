{"version":3,"file":"GaussianBlurBackgroundProcessor.js","sourceRoot":"","sources":["../../../lib/processors/background/GaussianBlurBackgroundProcessor.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,6DAAwF;AACxF,6CAA6D;AAM7D;IAAqD,mDAAmB;IAItE,yCAAY,OAAgD;QAA5D,YACE,kBAAM,OAAO,CAAC,SAEf;QALO,uBAAiB,GAAW,sCAA0B,CAAC;QAI7D,KAAI,CAAC,gBAAgB,GAAG,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,gBAAiB,CAAC;;IACrD,CAAC;IAED,sBAAI,6DAAgB;aAApB;YACE,OAAO,IAAI,CAAC,iBAAiB,CAAC;QAChC,CAAC;aAED,UAAqB,MAAc;YACjC,IAAI,CAAC,MAAM,EAAE;gBACX,OAAO,CAAC,IAAI,CAAC,+CAA6C,sCAA0B,iBAAc,CAAC,CAAC;gBACpG,MAAM,GAAG,sCAA0B,CAAC;aACrC;YACD,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;QAClC,CAAC;;;OARA;IAUS,wDAAc,GAAxB,UAAyB,UAA2B;QAClD,IAAI,CAAC,cAAc,CAAC,MAAM,GAAG,UAAQ,IAAI,CAAC,iBAAiB,QAAK,CAAC;QACjE,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,CAAC;IACH,sCAAC;AAAD,CAAC,AAzBD,CAAqD,yCAAmB,GAyBvE;AAzBY,0EAA+B","sourcesContent":["import { BackgroundProcessor, BackgroundProcessorOptions } from './BackgroundProcessor';\nimport { DEFAULT_BLUR_FILTER_RADIUS } from '../../constants';\n\nexport interface GaussianBlurBackgroundProcessorOptions extends BackgroundProcessorOptions {\n  blurFilterRadius?: number;\n}\n\nexport class GaussianBlurBackgroundProcessor extends BackgroundProcessor {\n\n  private _blurFilterRadius: number = DEFAULT_BLUR_FILTER_RADIUS;\n\n  constructor(options?: GaussianBlurBackgroundProcessorOptions) {\n    super(options);\n    this.blurFilterRadius = options?.blurFilterRadius!;\n  }\n\n  get blurFilterRadius(): number {\n    return this._blurFilterRadius;\n  }\n\n  set blurFilterRadius(radius: number) {\n    if (!radius) {\n      console.warn(`Valid blur filter radius not found. Using ${DEFAULT_BLUR_FILTER_RADIUS} as default.`);\n      radius = DEFAULT_BLUR_FILTER_RADIUS;\n    }\n    this._blurFilterRadius = radius;\n  }\n\n  protected _setBackground(inputFrame: OffscreenCanvas): void {\n    this._outputContext.filter = `blur(${this._blurFilterRadius}px)`;\n    this._outputContext.drawImage(inputFrame, 0, 0);\n  }\n}\n"]}